% The Slide Definitions
\input{../templates/course_definitions}

% Author and Course information
\input{../templates/course_information}

% Presentation title
\title{Builtin Datenstrukturen}
\date{\today}


\begin{document}

\maketitle

\begin{frame}{Gliederung}
	\begin{multicols}{2}
		\setbeamertemplate{section in toc}[sections numbered]
		\tableofcontents
	\end{multicols}
\end{frame}


% #############################################################################
% ------------------------------- 1. Exceptions -------------------------------
% #############################################################################
\section{Exceptions}

\begin{frame}{Exception Handling}
	\begin{itemize}
		\item Alle Exceptions erben von \alert{\texttt{Exception}}
		\item Catching mit try/except
		\item \alert{\texttt{else}} Abschnitt wird vor \alert{\texttt{finally}} ausgeführt falls keine Exception auftritt
		\item \alert{\texttt{finally}} um Code auszuführen, der \textit{unbedingt} laufen muss, egal ob eine Exception vorliegt oder nicht
	\end{itemize}
\end{frame}

\begin{frame}{Exception Handling - Beispiel}
    \lstinputlisting{resources/03_builtins/exceptions.py}
\end{frame}


% #############################################################################
% -------------------------------- 2. Booleans --------------------------------
% #############################################################################
\section{Booleans}

\begin{frame}{Boolsche Werte}
	\begin{itemize}
		\item \textit{type} ist \alert{\texttt{bool}}
		\item Mögliche Werte: \texttt{True} oder \texttt{False}
		\item Operationen sind \textit{und}, \textit{oder}, \textit{nicht} (\texttt{and, or, not})
	\end{itemize}
\end{frame}


% #############################################################################
% --------------------------------- 3. Lists ----------------------------------
% #############################################################################
\section{Lists}

\begin{frame}{list}
	\begin{itemize}
		\item enthält variable Anzahl von Objekten
		\item eine Liste kann beliebig viele verschiedene Datentypen enthalten (z.B. \texttt{bool} und \texttt{list})
		\item Auch Listen können in Listen gespeichert werden!
		\item Listenobjekte haben eine feste Reihenfolge (\textit{first in, last out})
		\item optimiert für einseitige Benutzung wie z.B. Queue (\alert{\texttt{append}} und \alert{\texttt{pop}})
	\end{itemize}
\end{frame}

\begin{frame}{list - Beispiel}
	\lstinputlisting{resources/03_builtins/list.py}
\end{frame}


% #############################################################################
% --------------------------------- 4. Tuples ---------------------------------
% #############################################################################
\section{Tuples}

\begin{frame}{tuple}
	\begin{itemize}
		\item Gruppiert Daten
		\item kann nicht mehr verändert werden, sobald es erstellt wurde
		\item Funktionen mit mehreren Rückgabewerten geben ein Tupel zurück
	\end{itemize}
\end{frame}

\begin{frame}{tuple - Beispiel}
	\lstinputlisting{resources/03_builtins/tuple.py}
\end{frame}


% #############################################################################
% --------------------------------- 5. Dicts ----------------------------------
% #############################################################################
\section{Dicts}

\begin{frame}{dict}
	\begin{itemize}
		\item einfache Hashmap
		\item ungeordnet
		\item jeder hashbare Typ kann ein Key sein
		\item jedem Key ist dann ein Value zugeordnet
	\end{itemize}
\end{frame}

\begin{frame}{dict - Beispiel}
    \lstinputlisting[lastline=10]{resources/03_builtins/dict.py}
\end{frame}

\begin{frame}{dict - Beispiel}
    \lstinputlisting[firstline=11]{resources/03_builtins/dict.py}
\end{frame}


% #############################################################################
% ----------------------------- 6. Set/Frozenset ------------------------------
% #############################################################################
\section{Set/Frozenset}

\begin{frame}{set/frozenset}
	\begin{itemize}
		\item kann nur hashbare Einträge enthalten
		\item \texttt{set} selbst ist nicht hashbar
		\item \texttt{frozensets} sind hashbar, jedoch nicht mehr veränderbar
		\item enthält jedes Element nur einmal
		\item schnellere Überprüfung mit \alert{\texttt{in}} (prüft, ob Element enthalten ist)
		\item Mögliche Operationen: \alert{\texttt{issuperset()}}, \alert{\texttt{issubset()}}, \alert{\texttt{isdisjoint()}}, \alert{\texttt{difference()}}, \alert{\texttt{<}}, \alert{\texttt{>}}, \alert{\texttt{disjoint()}}, \alert{\texttt{-}}
		\item ungeordnet
		\item (frozen)sets können frozensets enthalten (da sie einen festen Hashwert haben)
	\end{itemize}
\end{frame}

\begin{frame}{set/frozenset - Beispiel}
	\lstinputlisting{resources/03_builtins/set.py}
\end{frame}


% #############################################################################
% ------------------------------- 7. Unpacking --------------------------------
% #############################################################################
\section{Unpacking}

\begin{frame}{Unpacking}
	\begin{itemize}
		\item einfaches Auflösen von Listen und Tupeln in einzelne Variablen
		\item nützlich in \alert{\texttt{for}}-Schleifen
	\end{itemize}
\end{frame}

\begin{frame}{Unpacking - Beispiel}
	\lstinputlisting{resources/03_builtins/unpacking.py}
\end{frame}


% #############################################################################
% ------------------------------- 8. Iterations -------------------------------
% #############################################################################
\section{Iterations}

\begin{frame}{Iteratoren}
	\begin{itemize}
		\item alles mit einer \alert{\texttt{\_\_next\_\_}} Methode ist ein \textit{Iterator}
		\item Iteratoren stellen eine folge von Elementen dar, aus welcher man mit \alert{\texttt{next(iterator)}} das nächste Element holen kann
		\item wenn der Iterator erschöpft ist wird eine \alert{\texttt{StopIteration}} Exception ausgelöst
		\item gehören zu den \textit{Iterables}
	\end{itemize}
	\textbf{Wichtig:} Iteratoren besitzen einen internen Zustand und sollten deswegen nicht von mehreren Benutzern gleichzeitig benutzt werden!
	Dies kann mit der Verwendung mehrerer unabhängiger Iteratoren umgangen werden.
\end{frame}

\begin{frame}{Iterables}
	\begin{itemize}
		\item alles mit einer \alert{\texttt{\_\_iter\_\_}} Methode ist eine \textit{Iterable}
		\item \textit{Iterables} liefern mit \alert{\texttt{iter(obj)}} einen \textit{Iterator} über sich selbst
		\item \alert{\texttt{for}} Schleifen ermöglichen ein einfaches Durchlaufen
		\item eine \textit{Iterable} über Integer ist \\ \hspace{0.5cm} \texttt{range([start], stop, step=1)}
		\item um Iterables zu kombinieren kann man \\ \hspace{0.5cm} \texttt{zip(iterable\_1, iterable\_2, \ldots, iterable\_n)} verwenden
		\item \hspace{0.5cm} \texttt{any(iterable)} prüft ob mindestens ein Element einer \textit{Iterable} wahr ist
		\item \hspace{0.5cm} \texttt{all(iterable)} prüft ob alle Elemente einer \textit{Iterable} wahr sind
	\end{itemize}
	\textbf{Wichtig:} Während des Iterierens können einige Iterables nicht verändert werden
\end{frame}

\begin{frame}{Iteration - Beispiele}
	\lstinputlisting[lastline=18]{resources/03_builtins/iterate.py}
\end{frame}

\begin{frame}{Iteration - Beispiele}
	\lstinputlisting[firstline=20]{resources/03_builtins/iterate.py}
\end{frame}


% #############################################################################
% ---------------------------- 9. Context Manager ----------------------------
% #############################################################################
\section{Context Manager}

\begin{frame}{Context Manager}
	\begin{itemize}
		\item Aufruf mit \alert{\texttt{with}}
		\item kann jedes Objekt sein, welches eine \texttt{\_\_enter\_\_} und \texttt{\_\_exit\_\_} Methode hat
		\item praktisch beim Arbeiten mit Dateien
	\end{itemize}
\end{frame}

\begin{frame}{Context Manager}
	\lstinputlisting{resources/03_builtins/cm.py}
\end{frame}


% #############################################################################
% ----------------------------- 10. Files ------------------------------
% #############################################################################
\section{Files}

\begin{frame}{Files}
	\begin{itemize}
		\item Dateien werden mit \alert{\texttt{open(filename, mode="r")}} geöffnet
		\item \texttt{r} steht für Lesezugriff,  \texttt{w} für Schreibzugriff
		\item \texttt{+} erlaubt zusätzlich zum Modus Lesen/Schreiben, \texttt{x} schlägt fehl wenn die Datei bereits existiert
		\item die zurückgegebenen Objekte sind \textit{Iteratoren} über ihre Zeilen und \textit{Context Manager}
		\item können über \alert{\texttt{.read(size=-1)}} und \alert{\texttt{.write(text)}} gelesen und geschrieben werden
	\end{itemize}
	\textbf{Wichtig:} Dateien müssen wieder mit \alert{\texttt{.close()}} geschlossen werden
	\textbf{Beachte:} Wird eine Datei mit \texttt{w} geöffnet, wird sie geleert! Nutze stattdessen \texttt{r+}.
\end{frame}

\begin{frame}{Files - Beispiel}
	\lstinputlisting[lastline=15]{resources/03_builtins/file.py}
\end{frame}

\begin{frame}{Files - Beispiel}
	\lstinputlisting[firstline=17]{resources/03_builtins/file.py}
\end{frame}

\end{document}
